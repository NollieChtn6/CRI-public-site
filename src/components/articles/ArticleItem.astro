---
import { formatDate } from '@/utils/formatDate';
import { IoArrowForward } from 'react-icons/io5';
import type { ArticleInterface } from '@/@types/types';

const {
  id,
  title,
  slug,
  author,
  date,
  summary,
  coverPictureUrl,
  coverPictureAlt
} = Astro.props as ArticleInterface;

const ArrowIcon = IoArrowForward;
---

<article
  class="flex flex-col md:flex-row gap-6 bg-white rounded-xl shadow-lg overflow-hidden md:h-64"
>
  <div class="md:w-1/3 shrink-0">
    <img
      src={coverPictureUrl}
      alt={coverPictureAlt}
      class="w-full h-full object-cover"
      loading="lazy"
    />
  </div>

  <div class="p-6 flex flex-col justify-between md:w-2/3">
    <div>
      <h2 class="text-2xl font-semibold text-gray-900 mb-2">
        {title}
      </h2>

      <p class="text-sm text-gray-500 mb-4">
        Par {author} â€¢ {formatDate(date)}
      </p>
      <p class="text-gray-700 mb-6">
        {summary}
      </p>
    </div>
    <div class="inline-flex">
      <a
        href={`/reportages/articles/${slug}`}
        class="cta-button items-center gap-1"
      >
        <span>Lire la suite</span>
        <ArrowIcon /></a
      >
    </div>
  </div>
</article>
