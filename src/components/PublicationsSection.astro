---
import ArticleCard from '@/components/ArticleCard.astro';
import articles from '@/data/articles.json';

const latestArticles = [...articles]
  .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())
  .slice(0, 6);
---

<section
  class="publications-section bg-shark-950 flex items-center justify-center py-16"
>
  <div class="container space-y-10">
    <h2 class="text-3xl font-bold text-shark-50 text-center">Actualit√©s</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {
        latestArticles.map((article) => (
          <ArticleCard
            title={article.title}
            slug={article.slug}
            author={article.author}
            date={article.date}
            summary={article.summary}
            coverPictureUrl={article.coverPictureUrl}
            coverPictureAlt={article.coverPictureAlt}
          />
        ))
      }
    </div>

    <div class="flex justify-center pt-6">
      <a href="/reportages/articles" class="nav-button">
        Voir tous les articles
      </a>
    </div>
  </div>
</section>
